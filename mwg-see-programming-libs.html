<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>5.3. 시스템 라이브러리를 필요로 하는 모듈</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="Linux-PAM_MWG.html" title="Linux-PAM 모듈 작성자 안내서"><link rel="up" href="mwg-see-programming.html" title="5장. 프로그래밍 노트"><link rel="prev" href="mwg-see-programming-syslog.html" title="5.2. syslog(3) 사용"><link rel="next" href="mwg-example.html" title="6장. 예시 모듈"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5.3. 시스템 라이브러리를 필요로 하는 모듈</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mwg-see-programming-syslog.html">이전</a> </td><th width="60%" align="center">5장. 프로그래밍 노트</th><td width="20%" align="right"> <a accesskey="n" href="mwg-example.html">다음</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mwg-see-programming-libs"></a>5.3. 시스템 라이브러리를 필요로 하는 모듈</h2></div></div></div><p>
        모듈을 작성하는 건 응용을 작성하는 것과 상당히 비슷하다.
        올바른 동작을 위해 <code class="function">pam_sm_authenticate()</code>
        같은 "합의된 훅"을 제공해야 하는데, 일반 프로그램의
        <code class="function">main()</code> 함수에 해당하게 된다.
      </p><p>
        어떤 표준 시스템 라이브러리에 링크를 하고 싶을 수도 있다.
        일반 프로그램을 컴파일할 때와 마찬가지로 모듈에서도 할 수 있다.
        공유 모듈 오브젝트를 생성할 때 원하는 라이브러리에 대해
        <em class="parameter"><code>-l</code></em><span class="emphasis"><em>XXX</em></span>
        인자를 붙여 주기만 하면 된다. 가령 모듈이 <code class="function">dlopen()</code>
        될 때 <span class="command"><strong>libwhatever.so</strong></span>
        라이브러리에 링크되게 하고 싶다면 다음처럼 하면 된다.
        </p><pre class="programlisting">
% gcc -shared -o pam_module.so pam_module.o -lwhatever
        </pre><p>
      </p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mwg-see-programming-syslog.html">이전</a> </td><td width="20%" align="center"><a accesskey="u" href="mwg-see-programming.html">위</a></td><td width="40%" align="right"> <a accesskey="n" href="mwg-example.html">다음</a></td></tr><tr><td width="40%" align="left" valign="top">5.2. <span class="citerefentry"><span class="refentrytitle">syslog</span>(3)</span> 사용 </td><td width="20%" align="center"><a accesskey="h" href="Linux-PAM_MWG.html">대문</a></td><td width="40%" align="right" valign="top"> 6장. 예시 모듈</td></tr></table></div></body></html>
